CC     = mpiCC -g
#+O2

#DIST   = ../../distribution
#BASE   = ../../base
#COMMON = ../../../common
#PGRAPH = ../
#GRAPH  = ../../../graph
#GSCHEDULER = ../../../GeneralScheduler

STAPL  = ../../../..

LCFLAGS = -ftemplate-depth-25 -I/usr/share/mpi/include
HPFLAGS = +W930 +W652 -AA -D_POSIX_C_SOURCE=199506L -D_HPUX_SOURCE  

OPT    = 
LCLIB    = $(STAPL)/lib/runtime.o $(STAPL)/lib/libstlport_gcc.a -lrt
HPLIB    = $(STAPL)/lib/runtime.o $(STAPL)/lib/libstlport_aCC.a $(STAPL)/lib/libmetis.a  -lrt

INCLUDE  =  -I$(STAPL)/include -I$(STAPL)/include/stlport -I.

######################################
######################################
CFLAGS = $(HPFLAGS) $(INCLUDE) -D_OPTIONAL_SORT_ -DPARALLEL  -DDYNAMIC_GRAPH -DEFFICIENCY -DQUIETGRAPH -D_STL_PORT -D_STAPL_MPI -D_PLIST -DCOMPLETE_LOCATION_MAP -D_STAPL -D_PGRAPH


LIB    = $(HPLIB)

all: gabi_test test_adddel test_adddeledge test_mesh test_rand test_adddelrand test_dest test_iterator

gabi_test: gabi_test.cc ../pGraph.h
	$(CC) $(CFLAGS) -o $@ $@.cc $(LIB) 

gabi_test2: gabi_test2.cc ../pGraph.h ../pSCCmulticc.h
	$(CC) $(CFLAGS) -o $@ $@.cc $(LIB)

gabi_test3: gabi_test3.cc ../pGraph.h
	$(CC) $(CFLAGS) -o $@ $@.cc $(LIB) 

test_adddel: test_adddel.cc ../pGraph.h
	$(CC) $(CFLAGS) -o $@ $@.cc $(LIB) 

test_adddelrand: test_adddelrand.cc ../pGraph.h
	$(CC) $(CFLAGS) -o $@ $@.cc $(LIB) 

test_adddeledge: test_adddeledge.cc ../pGraph.h
	$(CC) $(CFLAGS) -o $@ $@.cc $(LIB) 

test_mesh: test_mesh.cc ../pGraph.h
	$(CC) $(CFLAGS) -o $@ $@.cc $(LIB) 

test_rand: test_rand.cc ../pGraph.h
	$(CC) $(CFLAGS) -o $@ $@.cc $(LIB) 

test_dest: test_dest.cc ../pGraph.h
	$(CC) $(CFLAGS) -o $@ $@.cc $(LIB) 

paul_test: paul_test.cc 
	$(CC) $(CFLAGS) -o $@ $@.cc $(LIB) 

dist_test: dist_test.cc 
	$(CC) $(CFLAGS) -o $@ $@.cc $(LIB) 

ann_test: ann_test.cc 
	$(CC) $(CFLAGS) -DSTAPL_DEBUG -o $@ $@.cc $(LIB) 

ann_plist_test: ann_plist_test.cc 
	$(CC) $(CFLAGS) -DSTAPL_DEBUG -o $@ $@.cc $(LIB) 

test_iterator: test_iterator.cc
	$(CC) $(CFLAGS) -o $@ $@.cc $(LIB) 


#parallel
test_padddel: test_padddel.cc
	$(CC) $(CFLAGS) -o $@ $@.cc $(LIB) 

test_padddelrand: test_padddelrand.cc ../pGraph.h
	$(CC) $(CFLAGS) -o $@ $@.cc $(LIB) 

test_padddeledge: test_padddeledge.cc ../pGraph.h
	$(CC) $(CFLAGS) -o $@ $@.cc $(LIB) 

test_pdest: test_pdest.cc ../pGraph.h
	$(CC) $(CFLAGS) -o $@ $@.cc $(LIB) 


clean:
	rm -rf *.o gabi_test paul_test ann_test crude* dummy* test_iterator dist_test gabi_test test_adddel test_adddeledge test_mesh test_rand test_adddelrand


